---
title: "Sex analysis"
format: html
---

# Load packages
```{r}
library(dplyr)
library(ggplot2)
library(tibble)
library(here)
```

# Load data
```{r}
df <- read.csv(here("data", "med_data_tidy.csv"))
df
```

# Create male_binary and female_binary.
```{r}
df <- df |>
mutate(male_binary = ifelse(sex == "male", 1, 0),
       female_binary = ifelse(sex == "female", 1, 0)
)
head(df[, c("sex", "male_binary", "female_binary")])

```
# create linear model for both sex
```{r}
female_model <- lm(death ~ female_binary, data = df)
male_model <-   lm(death ~ male_binary, data = df)

model_df <- tibble(
group = c("female", "male"),
model = list(female_model, male_model)
)

model_df

```

# save to sex.RDS
```{r}
saveRDS(model_df, here("data/models/sex.RDS"))

readRDS(here("data", "models", "sex.RDS"))
```


